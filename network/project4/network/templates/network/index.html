{% extends "network/layout.html" %} {% block body %}
<div>
	{% if user.is_authenticated %}
	<div>
		<form action="{% url 'post' %}" method="POST">
			{% csrf_token %}
			<label for="content" class="form-label">New Post</label>
			<textarea class="form-control" name="content" rows="2"></textarea>
			<button type="submit" class="btn btn-sm btn-primary">Post</button>
		</form>
	</div>
	{% endif %}
	<div id="posts">
		{% for post in posts_page.object_list %}
		<div class="post-card">
			<div><a href="{% url 'profile' post.author %}">{{post.author}}</a></div>
			<div>{{post.content}}</div>
			<div>{{post.created_at}}</div>
			<div>Likes: 0</div>
		</div>
		{% endfor %} {% if posts_page.object_list is empty %}
		<h4>No posts yet...</h4>
		{% else %}
		<div aria-label="Page navigation">
			<ul class="pagination">
				{% if posts_page.has_previous %}
                <li class="page-item"><a class="page-link" href="?page=1">first</a></li>
                <li class="page-item"><a class="page-link" href="?page={{posts_page.previous_page_number}}">previous</a>
                </li>
				{% endif %}

				<span>
					Page {{posts_page.number}} of {{posts_page.paginator.num_pages}}
				</span>

				{% if posts_page.has_next %}
                <li class="page-item"><a class="page-link" href="?page={{posts_page.next_page_number}}">next</a>
                </li>
                <li class="page-item"><a class="page-link" href="?page={{posts_page.paginator.num_pages}}">last</a>
                </li>
				{% endif %}
			</span>
		</div>
		{%endif%}
	</div>
</div>
{% endblock %}
